<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix TSL - HMI System Maintenance</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="assets/icons/matrix-icon.ico">    <script src="worksheet-core.js"></script>
<script src="worksheet-tracking.js"></script>

</head>
<body>
  <!-- Navigation -->
  <nav class="main-navigation">
    <div class="nav-container">
      <div class="nav-logo">
        <img src="assets/matrix-logo.png" alt="Matrix Logo">
      </div>
      <ul class="nav-menu" id="nav-menu">
        <li class="nav-item">
          <a href="#" onclick="window.location='index.html'" class="nav-link">
            <i class="fas fa-home"></i> HOME
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='CP2388-worksheets.html'" class="nav-link active">
            <i class="fas fa-cogs"></i> CP2388
          </a>
        </li>
        <li class="nav-item">
          
        </li>
        
        <li class="nav-item">
          <a href="#" onclick="window.location='tracking-dashboard.html'" class="nav-link">
            <i class="fas fa-chart-line"></i> PROGRESS
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='about.html'" class="nav-link">
            <i class="fas fa-info-circle"></i> ABOUT
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="worksheet-box">
    <!-- Integrated Worksheet Header -->
    <div class="worksheet-header">
      <div class="worksheet-header-content">
        <div class="worksheet-header-left">
          <button class="worksheet-nav-btn worksheet-back-btn" onclick="window.location.href='worksheet-4.html'">
            <i class="fas fa-arrow-left"></i>
            <span>Previous Worksheet</span>
          </button>
        </div>
        <div class="worksheet-header-center">
          <h1 class="worksheet-title">Worksheet 5 - HMI System Maintenance</h1>
        </div>
        <div class="worksheet-header-right">
          <button class="worksheet-nav-btn worksheet-next-btn" onclick="window.location.href='worksheet-6.html'">
            <span>Next Worksheet</span>
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="worksheet-section introduction-section">
      <h2 class="section-header"><i class="fas fa-info-circle"></i> 1. Introduction</h2>
      <div class="worksheet-content">
        <div class="introduction-content-wrapper">
          <div class="introduction-text">
            <p>This worksheet covers maintenance procedures for HMI system maintenance. The HMI is the primary interface between humans and the automated system.</p>
          </div>
          <div class="introduction-image">
            <div class="system-diagram">
              <img src="assets/maintenance/hmi.png" alt="HMI System Maintenance">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Over To You Section -->
    <div class="worksheet-section over-to-you-section">
      <h2 class="section-header"><i class="fas fa-hands-helping"></i> 2. Over To You</h2>
      <div class="worksheet-content">
        <p><strong>Explore the HMI interface and understand its role in system monitoring and fault management:</strong></p>
        
        <div class="steps-container">
          <div class="step-card" data-step="1">
            <div class="step-number">1</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Navigate HMI Screens</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Run the system and navigate between different HMI screens. Explore the Main Menu, IO Screen, Setup page, and Alarm/Fault pages to understand the available monitoring and control options.</p>
            </div>
          </div>
          
          <div class="step-card" data-step="2">
            <div class="step-number">2</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Test Temperature Cutout</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Leave the system running and navigate to the Setup page. Adjust either the "High Temp Cutout" or "Low Temp Cutout" settings until the system cuts out. Observe how the system responds to these safety limits.</p>
            </div>
          </div>
          
          <div class="step-card" data-step="3">
            <div class="step-number">3</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Alarm Management</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Navigate to the Alarm/Fault page to confirm the active fault. Reset the temperature settings back to original values (High: 30°C, Low: 5°C) and clear the fault to restore normal operation.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- So What Section -->
    <div class="worksheet-section so-what-section">
      <h2 class="section-header"><i class="fas fa-lightbulb"></i> 3. So What?</h2>
      <div class="so-what-content">
        <p>The HMI improves maintenance by providing centralized monitoring, control, and diagnostic capabilities:</p>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Alarm Logging and Management</strong>
            <p>HMIs log alarms and warnings, helping identify faults quickly without requiring direct access to the PLC programming.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Real-time System Monitoring</strong>
            <p>Live data displays confirm sensor functionality and process conditions, enabling proactive maintenance and troubleshooting.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Safety Configuration</strong>
            <p>Setup screens allow configuration of safety limits such as temperature cutouts, ensuring automatic shutdowns prevent equipment damage.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Control Functions</strong>
            <p>Engineers can reset alarms, adjust setpoints, and test system functions directly through the HMI interface.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="worksheet-section questions-section">
      <h2 class="section-header"><i class="fas fa-question-circle"></i> Questions & Answers</h2>
      <div class="questions-content">
        <div class="question-item" data-question="1">
          <h4>Question 1: What is the purpose of a Human-Machine Interface (HMI)?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-1" value="A" class="option-radio">
              <span class="option-text">A) To allow operators to interact with the system, view live data, control settings, and diagnose faults</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="B" class="option-radio">
              <span class="option-text">B) To control the system automatically</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="C" class="option-radio">
              <span class="option-text">C) To provide power to the system</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="D" class="option-radio">
              <span class="option-text">D) To measure system temperature</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(1)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> B) To provide basic system information only.
          </div>
        </div>
        
        <div class="question-item" data-question="2">
          <h4>Question 2: Where can you view system faults and alarms on the HMI?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-2" value="A" class="option-radio">
              <span class="option-text">A) Faults are shown in the Faults section; alarms are shown in the Alarms section of the HMI</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="B" class="option-radio">
              <span class="option-text">B) Faults and alarms are shown on the main screen only</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="C" class="option-radio">
              <span class="option-text">C) Faults and alarms are not shown on the HMI</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="D" class="option-radio">
              <span class="option-text">D) Faults and alarms are shown in the settings menu</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(2)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> D) Faults and alarms are shown in the settings menu.
          </div>
        </div>
        
        <div class="question-item" data-question="3">
          <h4>Question 3: What happens when you adjust the High or Low Temperature Cutout settings beyond the current temperature?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-3" value="A" class="option-radio">
              <span class="option-text">A) The system shuts down and displays a fault; it will not restart until the settings are returned to safe values</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="B" class="option-radio">
              <span class="option-text">B) The system continues running normally</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="C" class="option-radio">
              <span class="option-text">C) The system speeds up</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="D" class="option-radio">
              <span class="option-text">D) The system slows down</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(3)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The system shuts down and displays a fault; it will not restart until the settings are returned to safe values.
          </div>
        </div>
        
        <div class="question-item" data-question="4">
          <h4>Question 4: How does the HMI assist with troubleshooting and maintenance?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-4" value="A" class="option-radio">
              <span class="option-text">A) It logs alarms, shows sensor readings, lets engineers adjust settings, and helps detect issues like hardware faults or inefficiencies</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="B" class="option-radio">
              <span class="option-text">B) It only displays basic information</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="C" class="option-radio">
              <span class="option-text">C) It controls the system automatically</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="D" class="option-radio">
              <span class="option-text">D) It provides power to the system</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(4)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> C) It controls the system automatically.
          </div>
        </div>
        
        <div class="question-item" data-question="5">
          <h4>Question 5: What real-time information can be seen on the main page of the HMI during system operation?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-5" value="A" class="option-radio">
              <span class="option-text">A) The main screen displays the current water temperature in the top left, along with the system diagram. It also shows flow rate, valve position, and pump demand in real time</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="B" class="option-radio">
              <span class="option-text">B) Only the temperature is shown</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="C" class="option-radio">
              <span class="option-text">C) Only the system diagram is shown</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="D" class="option-radio">
              <span class="option-text">D) Only historical data is shown</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(5)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> B) Only the temperature is shown.
          </div>
        </div>
      </div>
    </div>

    <!-- Simulation Section -->
    <div class="simulation-section">
      <h2 class="section-header"><i class="fas fa-desktop"></i> 3. Essential HMI Screens for Engineers</h2>
      <div class="worksheet-content">
        <div class="intro-section" style="background: linear-gradient(145deg, #2196F3, #1976D2); color: white; padding: 25px; border-radius: 12px; margin-bottom: 40px; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.2);">
          <h3 style="margin: 0 0 15px 0; font-size: 24px;">
            <i class="fas fa-lightbulb"></i> Essential HMI Screens for Engineers
          </h3>
          <p style="margin: 0; font-size: 16px; line-height: 1.6;">
            These three HMI screens can significantly improve your efficiency as an engineer. Each screen serves a specific purpose in system monitoring and troubleshooting. Let's explore how to use them effectively.
          </p>
        </div>

                  <!-- Screen Guide Cards -->
          <div class="screen-guides" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px;">
            <!-- Alarms Guide -->
            <div class="guide-card" style="background: #2a2a2a; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: 1px solid #333;">
              <div style="margin-bottom: 15px;">
                <i class="fas fa-bell" style="font-size: 24px; color: #FF5722;"></i>
                <h4 style="margin: 10px 0; font-size: 18px; color: #FF5722;">Alarms Screen</h4>
              </div>
              <ul style="margin: 0; padding-left: 20px; color: #aaa; line-height: 1.6;">
                <li>Monitor active alarms in real-time</li>
                <li>Sort by priority (High, Medium, Low)</li>
                <li>Acknowledge alarms after addressing them</li>
                <li>Filter alarms by type or status</li>
                <li>Export alarm history for analysis</li>
              </ul>
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #444;">
                <p style="margin: 0; color: #FF5722; font-size: 14px;">
                  <i class="fas fa-lightbulb"></i> <strong>Pro Tip:</strong> Use alarm patterns to identify recurring issues.
                </p>
              </div>
            </div>

            <!-- Setup Guide -->
            <div class="guide-card" style="background: #2a2a2a; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: 1px solid #333;">
              <div style="margin-bottom: 15px;">
                <i class="fas fa-sliders" style="font-size: 24px; color: #2196F3;"></i>
                <h4 style="margin: 10px 0; font-size: 18px; color: #2196F3;">Setup Screen</h4>
              </div>
              <ul style="margin: 0; padding-left: 20px; color: #aaa; line-height: 1.6;">
                <li>Configure system safety limits</li>
                <li>Adjust operational parameters</li>
                <li>Save configurations for processes</li>
                <li>Reset to factory defaults if needed</li>
                <li>Document any changes made</li>
              </ul>
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #444;">
                <p style="margin: 0; color: #2196F3; font-size: 14px;">
                  <i class="fas fa-lightbulb"></i> <strong>Pro Tip:</strong> Always test after changing safety limits.
                </p>
              </div>
            </div>

            <!-- Trends Guide -->
            <div class="guide-card" style="background: #2a2a2a; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: 1px solid #333;">
              <div style="margin-bottom: 15px;">
                <i class="fas fa-chart-line" style="font-size: 24px; color: #4CAF50;"></i>
                <h4 style="margin: 10px 0; font-size: 18px; color: #4CAF50;">Trends Screen</h4>
              </div>
              <ul style="margin: 0; padding-left: 20px; color: #aaa; line-height: 1.6;">
                <li>Monitor performance over time</li>
                <li>Identify patterns and anomalies</li>
                <li>Compare process variables</li>
                <li>Export data for analysis</li>
                <li>Use historical data for troubleshooting</li>
              </ul>
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #444;">
                <p style="margin: 0; color: #4CAF50; font-size: 14px;">
                  <i class="fas fa-lightbulb"></i> <strong>Pro Tip:</strong> Look for correlations between variables.
                </p>
              </div>
            </div>
          </div>

        <!-- HMI Screen Container -->
        <div class="hmi-container" style="display: flex; flex-direction: column; gap: 40px; margin: 20px 0;">
          <!-- Common HMI Screen Style -->
          <style>
            .hmi-screen-frame {
              background: #424242;
              border: 12px solid #2a2a2a;
              border-radius: 8px;
              box-shadow: 
                inset 0 0 0 2px #666,
                0 0 0 4px #1a1a1a,
                0 10px 20px rgba(0,0,0,0.3);
              padding: 25px;
              position: relative;
            }
            .hmi-screen-frame::before {
              content: '';
              position: absolute;
              top: -8px;
              left: -8px;
              right: -8px;
              bottom: -8px;
              background: linear-gradient(45deg, #333, #1a1a1a);
              border-radius: 4px;
              z-index: -1;
            }
            .hmi-title-bar {
              background: linear-gradient(to right, #1a1a1a, #333);
              padding: 10px 15px;
              margin: -25px -25px 20px -25px;
              border-bottom: 4px solid #666;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            .hmi-title {
              color: #00ccff;
              font-size: 20px;
              font-weight: bold;
              text-shadow: 0 0 10px rgba(0, 204, 255, 0.5);
              font-family: 'Segoe UI', sans-serif;
            }
            .hmi-status {
              display: flex;
              gap: 15px;
              align-items: center;
            }
            .hmi-status-light {
              width: 12px;
              height: 12px;
              border-radius: 50%;
              border: 2px solid #666;
            }
            .hmi-status-light.active {
              background: #4CAF50;
              box-shadow: 0 0 10px #4CAF50;
            }
            .hmi-datetime {
              color: #aaa;
              font-size: 14px;
              font-family: 'Consolas', monospace;
            }
            .hmi-footer {
              background: linear-gradient(to right, #1a1a1a, #333);
              padding: 10px 15px;
              margin: 20px -25px -25px -25px;
              border-top: 4px solid #666;
              display: flex;
              justify-content: space-between;
              align-items: center;
              color: #aaa;
              font-size: 14px;
              font-family: 'Segoe UI', sans-serif;
            }
            .hmi-button {
              background: linear-gradient(145deg, #333, #2a2a2a);
              border: 2px solid #666;
              color: #fff;
              padding: 8px 15px;
              border-radius: 4px;
              cursor: pointer;
              font-weight: bold;
              transition: all 0.3s ease;
            }
            .hmi-button:hover {
              background: linear-gradient(145deg, #444, #333);
              border-color: #888;
            }
            .hmi-button:active {
              transform: translateY(1px);
              box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
            }
          </style>

                  <!-- Alarms Screen -->
          <div class="hmi-screen-frame">
            <div class="hmi-title-bar">
              <div class="hmi-title">
                <i class="fas fa-bell"></i> ALARM MANAGEMENT
              </div>
              <div class="hmi-status">
                <div class="hmi-status-light active"></div>
                <div class="hmi-datetime">2024-02-15 10:15:22</div>
              </div>
            </div>
            
            <div class="alarm-controls" style="display: flex; gap: 10px; margin-bottom: 15px;">
              <button class="hmi-button">
                <i class="fas fa-filter"></i> Filter Alarms
              </button>
              <button class="hmi-button">
                <i class="fas fa-check"></i> Acknowledge All
              </button>
              <button class="hmi-button">
                <i class="fas fa-history"></i> History
              </button>
            </div>
          
                      <div class="alarm-list" style="background: #2a2a2a; border: 2px solid #666; border-radius: 4px; overflow: hidden;">
              <table style="width: 100%; border-collapse: collapse; color: white; font-family: 'Segoe UI', sans-serif;">
                <thead style="background: linear-gradient(to bottom, #444, #333);">
                  <tr>
                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid #666;">Time</th>
                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid #666;">Priority</th>
                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid #666;">Description</th>
                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid #666;">Status</th>
                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid #666;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid #444; background: rgba(244, 67, 54, 0.1);">
                    <td style="padding: 12px;">10:15:22</td>
                    <td style="padding: 12px;">
                      <div style="background: #f44336; color: white; padding: 4px 8px; border-radius: 4px; display: inline-block; font-weight: bold; text-align: center; min-width: 80px; border: 1px solid #d32f2f;">
                        HIGH
                      </div>
                    </td>
                    <td style="padding: 12px;">Tank Temperature Above Limit (45°C)</td>
                    <td style="padding: 12px;">
                      <div style="color: #f44336; font-weight: bold;">
                        <i class="fas fa-exclamation-triangle"></i> Active
                      </div>
                    </td>
                    <td style="padding: 12px;">
                      <button class="hmi-button" style="font-size: 12px;">
                        <i class="fas fa-check"></i> Acknowledge
                      </button>
                    </td>
                  </tr>
                  <tr style="border-bottom: 1px solid #444; background: rgba(255, 152, 0, 0.1);">
                    <td style="padding: 12px;">10:14:55</td>
                    <td style="padding: 12px;">
                      <div style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; display: inline-block; font-weight: bold; text-align: center; min-width: 80px; border: 1px solid #f57c00;">
                        MEDIUM
                      </div>
                    </td>
                    <td style="padding: 12px;">Flow Rate Below Minimum (0 L/h)</td>
                    <td style="padding: 12px;">
                      <div style="color: #ff9800; font-weight: bold;">
                        <i class="fas fa-exclamation-circle"></i> Active
                      </div>
                    </td>
                    <td style="padding: 12px;">
                      <button class="hmi-button" style="font-size: 12px;">
                        <i class="fas fa-check"></i> Acknowledge
                      </button>
                    </td>
                  </tr>
                  <tr style="background: rgba(158, 158, 158, 0.1);">
                    <td style="padding: 12px;">10:12:30</td>
                    <td style="padding: 12px;">
                      <div style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; display: inline-block; font-weight: bold; text-align: center; min-width: 80px; border: 1px solid #f57c00;">
                        MEDIUM
                      </div>
                    </td>
                    <td style="padding: 12px;">Valve Position Mismatch</td>
                    <td style="padding: 12px;">
                      <div style="color: #9e9e9e; font-weight: bold;">
                        <i class="fas fa-check-circle"></i> Acknowledged
                      </div>
                    </td>
                    <td style="padding: 12px;">
                      <button class="hmi-button" style="font-size: 12px; opacity: 0.5;" disabled>
                        <i class="fas fa-check"></i> Acknowledged
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="hmi-footer">
              <div class="hmi-status">
                <span><i class="fas fa-exclamation-triangle" style="color: #f44336;"></i> Active Alarms: 2</span>
                <span><i class="fas fa-check-circle" style="color: #9e9e9e;"></i> Acknowledged: 1</span>
              </div>
              <div class="hmi-page-info">
                Page 1/1 | Total Alarms: 3
              </div>
            </div>

          </div>

                  <!-- Setup Screen -->
          <div class="hmi-screen-frame">
            <div class="hmi-title-bar">
              <div class="hmi-title">
                <i class="fas fa-sliders"></i> SYSTEM CONFIGURATION
              </div>
              <div class="hmi-status">
                <div class="hmi-status-light active"></div>
                <div class="hmi-datetime">2024-02-15 10:15:22</div>
              </div>
            </div>
            
            <div class="setup-controls" style="display: flex; gap: 10px; margin-bottom: 15px;">
              <button class="hmi-button">
                <i class="fas fa-save"></i> Save Changes
              </button>
              <button class="hmi-button">
                <i class="fas fa-undo"></i> Reset Defaults
              </button>
              <button class="hmi-button">
                <i class="fas fa-file-export"></i> Export Config
              </button>
            </div>

            <div class="setup-panels" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
              <!-- Temperature Settings -->
              <div class="setup-panel" style="background: #2a2a2a; padding: 20px; border-radius: 4px; border: 2px solid #666;">
                <h4 style="color: #00ccff; margin: 0 0 20px 0; font-family: 'Segoe UI', sans-serif; border-bottom: 2px solid #666; padding-bottom: 10px;">
                  <i class="fas fa-thermometer-half"></i> Temperature Control
                </h4>
                <div class="setting-group" style="margin: 15px 0;">
                  <label style="display: block; color: #fff; margin-bottom: 10px; font-family: 'Segoe UI', sans-serif;">
                    High Temperature Cutout
                  </label>
                  <div style="display: flex; align-items: center; gap: 15px;">
                    <input type="number" value="45" style="background: #333; border: 2px solid #666; color: #00ccff; padding: 10px; border-radius: 4px; width: 100px; font-size: 16px; font-family: 'Consolas', monospace;">
                    <span style="color: #aaa; font-family: 'Segoe UI', sans-serif;">°C</span>
                    <div style="background: #1a1a1a; padding: 5px 10px; border-radius: 4px; color: #666; font-size: 12px;">
                      Range: 0-100°C
                    </div>
                  </div>
                </div>
                <div class="setting-group" style="margin: 15px 0;">
                  <label style="display: block; color: #fff; margin-bottom: 10px; font-family: 'Segoe UI', sans-serif;">
                    Low Temperature Cutout
                  </label>
                  <div style="display: flex; align-items: center; gap: 15px;">
                    <input type="number" value="5" style="background: #333; border: 2px solid #666; color: #00ccff; padding: 10px; border-radius: 4px; width: 100px; font-size: 16px; font-family: 'Consolas', monospace;">
                    <span style="color: #aaa; font-family: 'Segoe UI', sans-serif;">°C</span>
                    <div style="background: #1a1a1a; padding: 5px 10px; border-radius: 4px; color: #666; font-size: 12px;">
                      Range: 0-100°C
                    </div>
                  </div>
                </div>
              </div>

              <!-- Flow Settings -->
              <div class="setup-panel" style="background: #2a2a2a; padding: 20px; border-radius: 4px; border: 2px solid #666;">
                <h4 style="color: #00ccff; margin: 0 0 20px 0; font-family: 'Segoe UI', sans-serif; border-bottom: 2px solid #666; padding-bottom: 10px;">
                  <i class="fas fa-tint"></i> Flow Control
                </h4>
                <div class="setting-group" style="margin: 15px 0;">
                  <label style="display: block; color: #fff; margin-bottom: 10px; font-family: 'Segoe UI', sans-serif;">
                    Maximum Flow Rate
                  </label>
                  <div style="display: flex; align-items: center; gap: 15px;">
                    <input type="number" value="500" style="background: #333; border: 2px solid #666; color: #00ccff; padding: 10px; border-radius: 4px; width: 100px; font-size: 16px; font-family: 'Consolas', monospace;">
                    <span style="color: #aaa; font-family: 'Segoe UI', sans-serif;">L/h</span>
                    <div style="background: #1a1a1a; padding: 5px 10px; border-radius: 4px; color: #666; font-size: 12px;">
                      Range: 0-1000 L/h
                    </div>
                  </div>
                </div>
                <div class="setting-group" style="margin: 15px 0;">
                  <label style="display: block; color: #fff; margin-bottom: 10px; font-family: 'Segoe UI', sans-serif;">
                    Minimum Flow Rate
                  </label>
                  <div style="display: flex; align-items: center; gap: 15px;">
                    <input type="number" value="50" style="background: #333; border: 2px solid #666; color: #00ccff; padding: 10px; border-radius: 4px; width: 100px; font-size: 16px; font-family: 'Consolas', monospace;">
                    <span style="color: #aaa; font-family: 'Segoe UI', sans-serif;">L/h</span>
                    <div style="background: #1a1a1a; padding: 5px 10px; border-radius: 4px; color: #666; font-size: 12px;">
                      Range: 0-1000 L/h
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="hmi-footer">
              <div class="hmi-status">
                <span><i class="fas fa-edit" style="color: #00ccff;"></i> Changes Made: 0</span>
                <span><i class="fas fa-clock" style="color: #aaa;"></i> Last Save: 10:00:15</span>
              </div>
              <div class="hmi-page-info">
                Page 1/3 | System Parameters
              </div>
            </div>

          </div>

                  <!-- Trends Screen -->
          <div class="hmi-screen-frame">
            <div class="hmi-title-bar">
              <div class="hmi-title">
                <i class="fas fa-chart-line"></i> TREND ANALYSIS
              </div>
              <div class="hmi-status">
                <div class="hmi-status-light active"></div>
                <div class="hmi-datetime">2024-02-15 10:15:22</div>
              </div>
            </div>
            
            <div class="trend-controls" style="display: flex; gap: 10px; margin-bottom: 15px;">
              <button class="hmi-button">
                <i class="fas fa-clock"></i> Time Range
              </button>
              <button class="hmi-button">
                <i class="fas fa-chart-area"></i> Add Trend
              </button>
              <button class="hmi-button">
                <i class="fas fa-download"></i> Export Data
              </button>
              <div style="margin-left: auto; display: flex; align-items: center; gap: 15px; color: #aaa; font-family: 'Segoe UI', sans-serif;">
                <span><i class="fas fa-history"></i> Update Rate: 1s</span>
                <span><i class="fas fa-chart-line"></i> Time Span: 30s</span>
              </div>
            </div>

            <div class="trend-graphs" style="display: grid; gap: 20px;">
              <!-- Temperature Trend -->
              <div class="trend-graph" style="background: #2a2a2a; padding: 20px; border-radius: 4px; border: 2px solid #666;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                  <h4 style="color: #00ccff; margin: 0; font-family: 'Segoe UI', sans-serif;">
                    <i class="fas fa-thermometer-half"></i> Temperature Trend
                  </h4>
                  <div style="display: flex; gap: 10px;">
                    <button class="hmi-button" style="font-size: 12px; padding: 5px 10px;">
                      <i class="fas fa-expand"></i>
                    </button>
                    <button class="hmi-button" style="font-size: 12px; padding: 5px 10px;">
                      <i class="fas fa-cog"></i>
                    </button>
                  </div>
                </div>
                <div class="graph-container" style="height: 250px; background: #1a1a1a; border-radius: 4px; padding: 15px; position: relative; border: 1px solid #444;">
                  <canvas id="temperatureChart" style="width: 100%; height: 100%;"></canvas>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #aaa; font-size: 12px; font-family: 'Segoe UI', sans-serif;">
                  <span>Min: 25°C</span>
                  <span>Current: 45°C</span>
                  <span>Max: 55°C</span>
                </div>
              </div>

              <!-- Flow Rate Trend -->
              <div class="trend-graph" style="background: #2a2a2a; padding: 20px; border-radius: 4px; border: 2px solid #666;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                  <h4 style="color: #00ccff; margin: 0; font-family: 'Segoe UI', sans-serif;">
                    <i class="fas fa-tint"></i> Flow Rate Trend
                  </h4>
                  <div style="display: flex; gap: 10px;">
                    <button class="hmi-button" style="font-size: 12px; padding: 5px 10px;">
                      <i class="fas fa-expand"></i>
                    </button>
                    <button class="hmi-button" style="font-size: 12px; padding: 5px 10px;">
                      <i class="fas fa-cog"></i>
                    </button>
                  </div>
                </div>
                <div class="graph-container" style="height: 250px; background: #1a1a1a; border-radius: 4px; padding: 15px; position: relative; border: 1px solid #444;">
                  <canvas id="flowChart" style="width: 100%; height: 100%;"></canvas>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #aaa; font-size: 12px; font-family: 'Segoe UI', sans-serif;">
                  <span>Min: 0 L/h</span>
                  <span>Current: 180 L/h</span>
                  <span>Max: 500 L/h</span>
                </div>
              </div>
            </div>

            <div class="hmi-footer">
              <div class="hmi-status">
                <span><i class="fas fa-database" style="color: #00ccff;"></i> Logging Active</span>
                <span><i class="fas fa-save" style="color: #aaa;"></i> Auto-save: 5min</span>
              </div>
              <div class="hmi-page-info">
                Page 1/1 | Active Trends: 2
              </div>
            </div>

          </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Common chart configuration
      const commonChartConfig = {
        type: 'line',
        options: {
          responsive: true,
          maintainAspectRatio: false,
          animation: {
            duration: 750,
            easing: 'linear'
          },
          interaction: {
            intersect: false,
            mode: 'index'
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: '#333',
                borderColor: '#666',
                tickColor: '#666'
              },
              ticks: {
                color: '#aaa',
                font: {
                  family: "'Segoe UI', sans-serif",
                  size: 11
                },
                padding: 10
              },
              border: {
                color: '#666'
              }
            },
            x: {
              grid: {
                color: '#333',
                borderColor: '#666',
                tickColor: '#666'
              },
              ticks: {
                color: '#aaa',
                font: {
                  family: "'Segoe UI', sans-serif",
                  size: 11
                },
                padding: 10
              },
              border: {
                color: '#666'
              }
            }
          },
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: 'rgba(26, 26, 26, 0.9)',
              titleColor: '#00ccff',
              bodyColor: '#fff',
              borderColor: '#666',
              borderWidth: 1,
              padding: 10,
              titleFont: {
                family: "'Segoe UI', sans-serif",
                size: 12,
                weight: 'bold'
              },
              bodyFont: {
                family: "'Segoe UI', sans-serif",
                size: 12
              },
              displayColors: false
            }
          }
        }
      };

      // Initialize charts when the DOM is loaded
      document.addEventListener('DOMContentLoaded', function() {
        // Temperature Chart
        const tempCtx = document.getElementById('temperatureChart').getContext('2d');
        const tempChart = new Chart(tempCtx, {
          ...commonChartConfig,
          data: {
            labels: Array.from({length: 30}, (_, i) => i),
            datasets: [{
              label: 'Temperature',
              data: [25,26,27,28,30,32,35,38,40,42,43,44,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28],
              borderColor: '#00ccff',
              borderWidth: 2,
              tension: 0.4,
              fill: true,
              backgroundColor: 'rgba(0, 204, 255, 0.1)'
            }]
          }
        });

        // Flow Rate Chart
        const flowCtx = document.getElementById('flowChart').getContext('2d');
        const flowChart = new Chart(flowCtx, {
          ...commonChartConfig,
          data: {
            labels: Array.from({length: 30}, (_, i) => i),
            datasets: [{
              label: 'Flow Rate',
              data: [250,248,245,240,235,230,220,210,200,180,150,120,90,60,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
              borderColor: '#00ccff',
              borderWidth: 2,
              tension: 0.4,
              fill: true,
              backgroundColor: 'rgba(0, 204, 255, 0.1)'
            }]
          }
        });
      });

      // Add spacing between HMI screens
      document.addEventListener('DOMContentLoaded', function() {
        const hmiScreens = document.querySelectorAll('.hmi-screen-frame');
        hmiScreens.forEach(screen => {
          screen.style.marginBottom = '40px';
        });
      });
    </script>
  </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      loadSavedAnswers();
    });
    
        function submitAnswer(questionNumber) {
          const answerInput = document.querySelector(`[data-question="${questionNumber}"]`);
          if (!answerInput) return;
          
          const selectedOption = document.querySelector(`input[name="question-${questionNumber}"]:checked`);
          if (!selectedOption) {
            alert('Please select an answer before submitting.');
            return;
          }
          
          const answer = selectedOption.value;
          
          // Save with enhanced tracking
          worksheetTracker.saveAnswer(5, questionNumber, answer, 'maintenance');
          
          // Define correct answers for worksheet 5
          const correctAnswers = {
                "1": "B",
                "2": "D",
                "3": "A",
                "4": "C",
                "5": "B"
          };
          
          // Apply visual feedback
          const allOptions = answerInput.querySelectorAll('.option-label');
          const correctAnswer = correctAnswers[questionNumber];
          
          allOptions.forEach(option => {
            const radio = option.querySelector('.option-radio');
            const optionValue = radio.value;
            
            if (optionValue === correctAnswer) {
              option.classList.add('correct');
            } else if (optionValue === answer && answer !== correctAnswer) {
              option.classList.add('incorrect');
            }
          });
          
          // Mark question as submitted to disable further interaction
          answerInput.classList.add('submitted');
          
          // Show feedback on button
          const submitBtn = answerInput.querySelector('.submit-question-btn');
          if (submitBtn) {
            const originalText = submitBtn.textContent;
            submitBtn.textContent = answer === correctAnswer ? 'Correct!' : 'Incorrect!';
            submitBtn.style.background = answer === correctAnswer ? '#4CAF50' : '#f44336';
            
            // Add incorrect class for enhanced styling
            if (answer !== correctAnswer) {
              submitBtn.classList.add('incorrect');
            }
            
            setTimeout(() => {
              submitBtn.textContent = originalText;
              submitBtn.style.background = '#4CAF50';
              submitBtn.classList.remove('incorrect');
            }, 2000);
          }
          
          // Show correct answer if available
          const correctAnswerDiv = answerInput.querySelector('.correct-answer');
          if (correctAnswerDiv) {
            correctAnswerDiv.style.display = 'block';
          }
        }
    function loadSavedAnswers() {
      // This function is now handled by the tracking system
    }
  </script>
  
  <!-- Bottom Navigation -->
  <div class="worksheet-bottom-nav">
    <div class="worksheet-header-content">
      <div class="worksheet-header-left">
        <button class="worksheet-nav-btn worksheet-back-btn" onclick="window.location.href='worksheet-4.html'">
          <i class="fas fa-arrow-left"></i>
          <span>Previous Worksheet</span>
        </button>
      </div>
      <div class="worksheet-header-center">
        <h1 class="worksheet-title">Worksheet 5 - HMI System Maintenance</h1>
      </div>
      <div class="worksheet-header-right">
        <button class="worksheet-nav-btn worksheet-next-btn" onclick="window.location.href='worksheet-6.html'">
          <span>Next Worksheet</span>
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </div>
  
</body>
</html> 